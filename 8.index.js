"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8],{8:(n,e,t)=>{let r;t.r(e),t.d(e,{main:()=>k,wasm_alert:()=>A,create_and_load_resource_cache:()=>R,create_empty_resource_cache:()=>j,get_resource:()=>S,insert_resource:()=>W,create_webraytracer:()=>U,seed_rand:()=>$,render_image:()=>E,multi_sample_buffer:()=>T,multi_sample_point:()=>I,multi_sample_region:()=>L,ResourceCache:()=>M,WebRaytracer:()=>q,default:()=>J});const _=new Array(32).fill(void 0);function o(n){return _[n]}_.push(void 0,null,!0,!1);let c=_.length;function i(n){const e=o(n);return function(n){n<36||(_[n]=c,c=n)}(n),e}let u=0,a=null;function f(){return null!==a&&a.buffer===r.memory.buffer||(a=new Uint8Array(r.memory.buffer)),a}let b=new TextEncoder("utf-8");const s="function"==typeof b.encodeInto?function(n,e){return b.encodeInto(n,e)}:function(n,e){const t=b.encode(n);return e.set(t),{read:n.length,written:t.length}};function w(n,e,t){if(void 0===t){const t=b.encode(n),r=e(t.length);return f().subarray(r,r+t.length).set(t),u=t.length,r}let r=n.length,_=e(r);const o=f();let c=0;for(;c<r;c++){const e=n.charCodeAt(c);if(e>127)break;o[_+c]=e}if(c!==r){0!==c&&(n=n.slice(c)),_=t(_,r,r=c+3*n.length);const e=f().subarray(_+c,_+r);c+=s(n,e).written}return u=c,_}let g=null;function l(){return null!==g&&g.buffer===r.memory.buffer||(g=new Int32Array(r.memory.buffer)),g}let d=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});function y(n,e){return d.decode(f().subarray(n,n+e))}function m(n){c===_.length&&_.push(_.length+1);const e=c;return c=_[e],_[e]=n,e}function p(n){return null==n}function h(n){const e=typeof n;if("number"==e||"boolean"==e||null==n)return`${n}`;if("string"==e)return`"${n}"`;if("symbol"==e){const e=n.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==e){const e=n.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(n)){const e=n.length;let t="[";e>0&&(t+=h(n[0]));for(let r=1;r<e;r++)t+=", "+h(n[r]);return t+="]",t}const t=/\[object ([^\]]+)\]/.exec(toString.call(n));let r;if(!(t.length>1))return toString.call(n);if(r=t[1],"Object"==r)try{return"Object("+JSON.stringify(n)+")"}catch(n){return"Object"}return n instanceof Error?`${n.name}: ${n.message}\n${n.stack}`:r}function v(n,e,t){r._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hfc6bde766572050c(n,e,m(t))}function k(){r.main()}function A(n){var e=w(n,r.__wbindgen_malloc,r.__wbindgen_realloc),t=u;r.wasm_alert(e,t)}function R(n){return i(r.create_and_load_resource_cache(m(n)))}function j(){var n=r.create_empty_resource_cache();return M.__wrap(n)}function x(n,e){if(!(n instanceof e))throw new Error(`expected instance of ${e.name}`);return n.ptr}function O(n,e){return f().subarray(n/1,n/1+e)}function S(n,e){try{const i=r.__wbindgen_add_to_stack_pointer(-16);x(n,M);var t=w(e,r.__wbindgen_malloc,r.__wbindgen_realloc),_=u;r.get_resource(i,n.ptr,t,_);var o=l()[i/4+0],c=l()[i/4+1];let a;return 0!==o&&(a=O(o,c).slice(),r.__wbindgen_free(o,1*c)),a}finally{r.__wbindgen_add_to_stack_pointer(16)}}function W(n,e,t){x(n,M);var _=w(e,r.__wbindgen_malloc,r.__wbindgen_realloc),o=u,c=function(n,e){const t=e(1*n.length);return f().set(n,t/1),u=n.length,t}(t,r.__wbindgen_malloc),i=u;r.insert_resource(n.ptr,_,o,c,i)}function U(n,e,t,_,o,c,i){x(n,M);var u=r.create_webraytracer(n.ptr,e,t,_,o,c,i);return q.__wrap(u)}function $(n){r.seed_rand(n)}d.decode();let C=null;function E(n){try{const i=r.__wbindgen_add_to_stack_pointer(-16);x(n,q),r.render_image(i,n.ptr);var e=l()[i/4+0],t=l()[i/4+1],_=(o=e,c=t,(null!==C&&C.buffer===r.memory.buffer||(C=new Uint8ClampedArray(r.memory.buffer)),C).subarray(o/1,o/1+c)).slice();return r.__wbindgen_free(e,1*t),_}finally{r.__wbindgen_add_to_stack_pointer(16)}var o,c}let F=null;function T(n,e){try{const u=r.__wbindgen_add_to_stack_pointer(-16);x(n,q),r.multi_sample_buffer(u,n.ptr,e);var t=l()[u/4+0],_=l()[u/4+1],o=(c=t,i=_,(null!==F&&F.buffer===r.memory.buffer||(F=new Float32Array(r.memory.buffer)),F).subarray(c/4,c/4+i)).slice();return r.__wbindgen_free(t,4*_),o}finally{r.__wbindgen_add_to_stack_pointer(16)}var c,i}function I(n,e,t){return x(n,q),r.multi_sample_point(n.ptr,e,t)>>>0}function L(n,e,t,_,o){try{const a=r.__wbindgen_add_to_stack_pointer(-16);x(n,q),r.multi_sample_region(a,n.ptr,e,t,_,o);var c=l()[a/4+0],i=l()[a/4+1],u=O(c,i).slice();return r.__wbindgen_free(c,1*i),u}finally{r.__wbindgen_add_to_stack_pointer(16)}}function B(n,e){try{return n.apply(this,e)}catch(n){r.__wbindgen_exn_store(m(n))}}class M{static __wrap(n){const e=Object.create(M.prototype);return e.ptr=n,e}__destroy_into_raw(){const n=this.ptr;return this.ptr=0,n}free(){const n=this.__destroy_into_raw();r.__wbg_resourcecache_free(n)}}class q{static __wrap(n){const e=Object.create(q.prototype);return e.ptr=n,e}__destroy_into_raw(){const n=this.ptr;return this.ptr=0,n}free(){const n=this.__destroy_into_raw();r.__wbg_webraytracer_free(n)}}const J=async function n(e){void 0===e&&(e=new URL(t(387),t.b));const _={wbg:{}};_.wbg.__wbindgen_object_drop_ref=function(n){i(n)},_.wbg.__wbindgen_json_serialize=function(n,e){const t=o(e);var _=w(JSON.stringify(void 0===t?null:t),r.__wbindgen_malloc,r.__wbindgen_realloc),c=u;l()[n/4+1]=c,l()[n/4+0]=_},_.wbg.__wbg_resourcecache_new=function(n){return m(M.__wrap(n))},_.wbg.__wbindgen_string_new=function(n,e){return m(y(n,e))},_.wbg.__wbindgen_cb_drop=function(n){const e=i(n).original;return 1==e.cnt--&&(e.a=0,!0)},_.wbg.__wbg_new_693216e109162396=function(){return m(new Error)},_.wbg.__wbg_stack_0ddaca5d1abfb52f=function(n,e){var t=w(o(e).stack,r.__wbindgen_malloc,r.__wbindgen_realloc),_=u;l()[n/4+1]=_,l()[n/4+0]=t},_.wbg.__wbg_error_09919627ac0992f5=function(n,e){try{console.error(y(n,e))}finally{r.__wbindgen_free(n,e)}},_.wbg.__wbindgen_object_clone_ref=function(n){return m(o(n))},_.wbg.__wbg_fetch_45791be0f20b9c8d=function(n){return m(fetch(o(n)))},_.wbg.__wbg_instanceof_Window_c4b70662a0d2c5ec=function(n){return o(n)instanceof Window},_.wbg.__wbg_document_1c64944725c0d81d=function(n){var e=o(n).document;return p(e)?0:m(e)},_.wbg.__wbg_URL_db6637e306672144=function(){return B((function(n,e){var t=w(o(e).URL,r.__wbindgen_malloc,r.__wbindgen_realloc),_=u;l()[n/4+1]=_,l()[n/4+0]=t}),arguments)},_.wbg.__wbg_new_9c35e8e8b09fb4a3=function(){return B((function(){return m(new Headers)}),arguments)},_.wbg.__wbg_append_fb85316567f7a798=function(){return B((function(n,e,t,r,_){o(n).append(y(e,t),y(r,_))}),arguments)},_.wbg.__wbindgen_string_get=function(n,e){const t=o(e);var _="string"==typeof t?t:void 0,c=p(_)?0:w(_,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u;l()[n/4+1]=i,l()[n/4+0]=c},_.wbg.__wbg_log_3445347661d4505e=function(n){console.log(o(n))},_.wbg.__wbg_fetch_b4e81012e07ff95a=function(n,e){return m(o(n).fetch(o(e)))},_.wbg.__wbg_instanceof_Response_e1b11afbefa5b563=function(n){return o(n)instanceof Response},_.wbg.__wbg_url_50e0bdb6051741be=function(n,e){var t=w(o(e).url,r.__wbindgen_malloc,r.__wbindgen_realloc),_=u;l()[n/4+1]=_,l()[n/4+0]=t},_.wbg.__wbg_status_6d8bb444ddc5a7b2=function(n){return o(n).status},_.wbg.__wbg_headers_5ffa990806e04cfc=function(n){return m(o(n).headers)},_.wbg.__wbg_arrayBuffer_b8937ed04beb0d36=function(){return B((function(n){return m(o(n).arrayBuffer())}),arguments)},_.wbg.__wbg_newwithstrandinit_9b0fa00478c37287=function(){return B((function(n,e,t){return m(new Request(y(n,e),o(t)))}),arguments)},_.wbg.__wbindgen_is_function=function(n){return"function"==typeof o(n)},_.wbg.__wbg_newnoargs_be86524d73f67598=function(n,e){return m(new Function(y(n,e)))},_.wbg.__wbindgen_is_object=function(n){const e=o(n);return"object"==typeof e&&null!==e},_.wbg.__wbg_next_c4151d46d5fa7097=function(n){return m(o(n).next)},_.wbg.__wbg_next_7720502039b96d00=function(){return B((function(n){return m(o(n).next())}),arguments)},_.wbg.__wbg_done_b06cf0578e89ff68=function(n){return o(n).done},_.wbg.__wbg_value_e74a542443d92451=function(n){return m(o(n).value)},_.wbg.__wbg_iterator_4fc4ce93e6b92958=function(){return m(Symbol.iterator)},_.wbg.__wbg_get_4d0f21c2f823742e=function(){return B((function(n,e){return m(Reflect.get(o(n),o(e)))}),arguments)},_.wbg.__wbg_call_888d259a5fefc347=function(){return B((function(n,e){return m(o(n).call(o(e)))}),arguments)},_.wbg.__wbg_new_0b83d3df67ecb33e=function(){return m(new Object)},_.wbg.__wbg_call_346669c262382ad7=function(){return B((function(n,e,t){return m(o(n).call(o(e),o(t)))}),arguments)},_.wbg.__wbg_new_b1d61b5687f5e73a=function(n,e){try{var t={a:n,b:e},_=new Promise(((n,e)=>{const _=t.a;t.a=0;try{return function(n,e,t,_){r.wasm_bindgen__convert__closures__invoke2_mut__h5c0860dfcddbf3dd(n,e,m(t),m(_))}(_,t.b,n,e)}finally{t.a=_}}));return m(_)}finally{t.a=t.b=0}},_.wbg.__wbg_resolve_d23068002f584f22=function(n){return m(Promise.resolve(o(n)))},_.wbg.__wbg_then_2fcac196782070cc=function(n,e){return m(o(n).then(o(e)))},_.wbg.__wbg_then_8c2d62e8ae5978f7=function(n,e,t){return m(o(n).then(o(e),o(t)))},_.wbg.__wbg_self_c6fbdfc2918d5e58=function(){return B((function(){return m(self.self)}),arguments)},_.wbg.__wbg_window_baec038b5ab35c54=function(){return B((function(){return m(window.window)}),arguments)},_.wbg.__wbg_globalThis_3f735a5746d41fbd=function(){return B((function(){return m(globalThis.globalThis)}),arguments)},_.wbg.__wbg_global_1bc0b39582740e95=function(){return B((function(){return m(t.g.global)}),arguments)},_.wbg.__wbindgen_is_undefined=function(n){return void 0===o(n)},_.wbg.__wbg_buffer_397eaa4d72ee94dd=function(n){return m(o(n).buffer)},_.wbg.__wbg_newwithbyteoffsetandlength_4b9b8c4e3f5adbff=function(n,e,t){return m(new Uint8Array(o(n),e>>>0,t>>>0))},_.wbg.__wbg_new_a7ce447f15ff496f=function(n){return m(new Uint8Array(o(n)))},_.wbg.__wbg_set_969ad0a60e51d320=function(n,e,t){o(n).set(o(e),t>>>0)},_.wbg.__wbg_length_1eb8fc608a0d4cdb=function(n){return o(n).length},_.wbg.__wbg_has_1275b5eec3dc7a7a=function(){return B((function(n,e){return Reflect.has(o(n),o(e))}),arguments)},_.wbg.__wbg_set_82a4e8a85e31ac42=function(){return B((function(n,e,t){return Reflect.set(o(n),o(e),o(t))}),arguments)},_.wbg.__wbg_stringify_d4507a59932eed0c=function(){return B((function(n){return m(JSON.stringify(o(n)))}),arguments)},_.wbg.__wbindgen_debug_string=function(n,e){var t=w(h(o(e)),r.__wbindgen_malloc,r.__wbindgen_realloc),_=u;l()[n/4+1]=_,l()[n/4+0]=t},_.wbg.__wbindgen_throw=function(n,e){throw new Error(y(n,e))},_.wbg.__wbindgen_memory=function(){return m(r.memory)},_.wbg.__wbindgen_closure_wrapper302=function(n,e,t){var _=function(n,e,t,_){const o={a:n,b:e,cnt:1,dtor:122},c=(...n)=>{o.cnt++;const e=o.a;o.a=0;try{return _(e,o.b,...n)}finally{0==--o.cnt?r.__wbindgen_export_2.get(o.dtor)(e,o.b):o.a=e}};return c.original=o,c}(n,e,0,v);return m(_)},("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:c,module:a}=await async function(n,e){if("function"==typeof Response&&n instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(n,e)}catch(e){if("application/wasm"==n.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}(await e,_);return r=c.exports,n.__wbindgen_wasm_module=a,r.__wbindgen_start(),r}},387:(n,e,t)=>{n.exports=t.p+"41d79fbd18157bf8b180.wasm"}}]);