"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[42,298,151],{151:(n,e,t)=>{function r(n,e){return new Promise((t=>{n.addEventListener("message",(function r({data:_}){null!=_&&_.type===e&&(n.removeEventListener("message",r),t(_))}))}))}let _;async function o(n,e,o){const i={type:"wasm_bindgen_worker_init",module:n,memory:e,receiver:o.receiver()};_=await Promise.all(Array.from({length:o.numThreads()},(async()=>{const n=new Worker(new URL(t.p+t.u(151),t.b),{type:void 0});return n.postMessage(i),await r(n,"wasm_bindgen_worker_ready"),n}))),o.build()}t.d(e,{Q:()=>o}),r(self,"wasm_bindgen_worker_init").then((async n=>{const e=await t.e(298).then(t.bind(t,298));await e.default(n.module,n.memory),postMessage({type:"wasm_bindgen_worker_ready"}),e.wbg_rayon_start_worker(n.receiver)}))},298:(n,e,t)=>{t.r(e),t.d(e,{main:()=>R,wasm_alert:()=>W,create_and_load_resource_cache:()=>O,create_empty_resource_cache:()=>j,get_resource:()=>U,insert_resource:()=>S,create_webraytracer:()=>T,seed_rand:()=>C,render_image:()=>E,multi_sample_buffer:()=>$,multi_sample_point:()=>F,initThreadPool:()=>I,wbg_rayon_start_worker:()=>B,ResourceCache:()=>q,WebRaytracer:()=>J,wbg_rayon_PoolBuilder:()=>N,default:()=>Q});var r=t(151);let _;const o=new Array(32).fill(void 0);function i(n){return o[n]}o.push(void 0,null,!0,!1);let c=o.length;function a(n){const e=i(n);return function(n){n<36||(o[n]=c,c=n)}(n),e}let u=0,b=null;function f(){return null!==b&&b.buffer===_.memory.buffer||(b=new Uint8Array(_.memory.buffer)),b}let w=new TextEncoder("utf-8");function s(n,e,t){if(void 0===t){const t=w.encode(n),r=e(t.length);return f().subarray(r,r+t.length).set(t),u=t.length,r}let r=n.length,_=e(r);const o=f();let i=0;for(;i<r;i++){const e=n.charCodeAt(i);if(e>127)break;o[_+i]=e}if(i!==r){0!==i&&(n=n.slice(i)),_=t(_,r,r=i+3*n.length);const e=function(n,e){const t=w.encode(n);return e.set(t),{read:n.length,written:t.length}}(n,f().subarray(_+i,_+r));i+=e.written}return u=i,_}let g=null;function l(){return null!==g&&g.buffer===_.memory.buffer||(g=new Int32Array(_.memory.buffer)),g}let d=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});function y(n,e){return d.decode(f().slice(n,n+e))}function m(n){c===o.length&&o.push(o.length+1);const e=c;return c=o[e],o[e]=n,e}function p(n){return null==n}function h(n){const e=typeof n;if("number"==e||"boolean"==e||null==n)return`${n}`;if("string"==e)return`"${n}"`;if("symbol"==e){const e=n.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==e){const e=n.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(n)){const e=n.length;let t="[";e>0&&(t+=h(n[0]));for(let r=1;r<e;r++)t+=", "+h(n[r]);return t+="]",t}const t=/\[object ([^\]]+)\]/.exec(toString.call(n));let r;if(!(t.length>1))return toString.call(n);if(r=t[1],"Object"==r)try{return"Object("+JSON.stringify(n)+")"}catch(n){return"Object"}return n instanceof Error?`${n.name}: ${n.message}\n${n.stack}`:r}function v(n,e,t,r){const o={a:n,b:e,cnt:1,dtor:t},i=(...n)=>{o.cnt++;const e=o.a;o.a=0;try{return r(e,o.b,...n)}finally{0==--o.cnt?_.__wbindgen_export_3.get(o.dtor)(e,o.b):o.a=e}};return i.original=o,i}function A(n,e,t){_._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h1c54da95a8c29062(n,e,m(t))}function k(n,e,t){_._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h1c54da95a8c29062(n,e,m(t))}function R(){_.main()}function W(n){var e=s(n,_.__wbindgen_malloc,_.__wbindgen_realloc),t=u;_.wasm_alert(e,t)}function O(n){return a(_.create_and_load_resource_cache(m(n)))}function j(){var n=_.create_empty_resource_cache();return q.__wrap(n)}function x(n,e){if(!(n instanceof e))throw new Error(`expected instance of ${e.name}`);return n.ptr}function U(n,e){try{const b=_.__wbindgen_add_to_stack_pointer(-16);x(n,q);var t=s(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=u;_.get_resource(b,n.ptr,t,r);var o=l()[b/4+0],i=l()[b/4+1];let w;return 0!==o&&(w=(c=o,a=i,f().subarray(c/1,c/1+a)).slice(),_.__wbindgen_free(o,1*i)),w}finally{_.__wbindgen_add_to_stack_pointer(16)}var c,a}function S(n,e,t){x(n,q);var r=s(e,_.__wbindgen_malloc,_.__wbindgen_realloc),o=u,i=function(n,e){const t=e(1*n.length);return f().set(n,t/1),u=n.length,t}(t,_.__wbindgen_malloc),c=u;_.insert_resource(n.ptr,r,o,i,c)}function T(n,e,t,r,o,i,c){x(n,q);var a=_.create_webraytracer(n.ptr,e,t,r,o,i,c);return J.__wrap(a)}function C(n){_.seed_rand(n)}d.decode();let M=null;function E(n){try{const c=_.__wbindgen_add_to_stack_pointer(-16);x(n,J),_.render_image(c,n.ptr);var e=l()[c/4+0],t=l()[c/4+1],r=(o=e,i=t,(null!==M&&M.buffer===_.memory.buffer||(M=new Uint8ClampedArray(_.memory.buffer)),M).subarray(o/1,o/1+i)).slice();return _.__wbindgen_free(e,1*t),r}finally{_.__wbindgen_add_to_stack_pointer(16)}var o,i}let L=null;function $(n,e){try{const a=_.__wbindgen_add_to_stack_pointer(-16);x(n,J),_.multi_sample_buffer(a,n.ptr,e);var t=l()[a/4+0],r=l()[a/4+1],o=(i=t,c=r,(null!==L&&L.buffer===_.memory.buffer||(L=new Float32Array(_.memory.buffer)),L).subarray(i/4,i/4+c)).slice();return _.__wbindgen_free(t,4*r),o}finally{_.__wbindgen_add_to_stack_pointer(16)}var i,c}function F(n,e,t){return x(n,J),_.multi_sample_point(n.ptr,e,t)>>>0}function P(n,e){try{return n.apply(this,e)}catch(n){_.__wbindgen_exn_store(m(n))}}function I(n){return a(_.initThreadPool(n))}function B(n){_.wbg_rayon_start_worker(n)}class q{static __wrap(n){const e=Object.create(q.prototype);return e.ptr=n,e}__destroy_into_raw(){const n=this.ptr;return this.ptr=0,n}free(){const n=this.__destroy_into_raw();_.__wbg_resourcecache_free(n)}}class J{static __wrap(n){const e=Object.create(J.prototype);return e.ptr=n,e}__destroy_into_raw(){const n=this.ptr;return this.ptr=0,n}free(){const n=this.__destroy_into_raw();_.__wbg_webraytracer_free(n)}}class N{static __wrap(n){const e=Object.create(N.prototype);return e.ptr=n,e}__destroy_into_raw(){const n=this.ptr;return this.ptr=0,n}free(){const n=this.__destroy_into_raw();_.__wbg_wbg_rayon_poolbuilder_free(n)}numThreads(){return _.wbg_rayon_poolbuilder_numThreads(this.ptr)>>>0}receiver(){return _.wbg_rayon_poolbuilder_receiver(this.ptr)}build(){_.wbg_rayon_poolbuilder_build(this.ptr)}}const Q=async function n(e,o){void 0===e&&(e=new URL(t(442),t.b));const c={wbg:{}};c.wbg.__wbindgen_object_drop_ref=function(n){a(n)},c.wbg.__wbindgen_json_serialize=function(n,e){const t=i(e);var r=s(JSON.stringify(void 0===t?null:t),_.__wbindgen_malloc,_.__wbindgen_realloc),o=u;l()[n/4+1]=o,l()[n/4+0]=r},c.wbg.__wbg_resourcecache_new=function(n){return m(q.__wrap(n))},c.wbg.__wbindgen_string_new=function(n,e){return m(y(n,e))},c.wbg.__wbindgen_cb_drop=function(n){const e=a(n).original;return 1==e.cnt--&&(e.a=0,!0)},c.wbg.__wbg_new_693216e109162396=function(){return m(new Error)},c.wbg.__wbg_stack_0ddaca5d1abfb52f=function(n,e){var t=s(i(e).stack,_.__wbindgen_malloc,_.__wbindgen_realloc),r=u;l()[n/4+1]=r,l()[n/4+0]=t},c.wbg.__wbg_error_09919627ac0992f5=function(n,e){try{console.error(y(n,e))}finally{_.__wbindgen_free(n,e)}},c.wbg.__wbindgen_object_clone_ref=function(n){return m(i(n))},c.wbg.__wbg_fetch_45791be0f20b9c8d=function(n){return m(fetch(i(n)))},c.wbg.__wbg_waitAsync_72704e396e56aa71=function(){return m(Atomics.waitAsync)},c.wbg.__wbindgen_is_undefined=function(n){return void 0===i(n)},c.wbg.__wbg_waitAsync_1f6fd82e7a6babc6=function(n,e,t){return m(Atomics.waitAsync(i(n),e,t))},c.wbg.__wbg_async_42d16e10f4e1c02b=function(n){return i(n).async},c.wbg.__wbg_value_148fbf142e2aeecc=function(n){return m(i(n).value)},c.wbg.__wbindgen_number_new=function(n){return m(n)},c.wbg.__wbg_instanceof_Window_c4b70662a0d2c5ec=function(n){return i(n)instanceof Window},c.wbg.__wbg_document_1c64944725c0d81d=function(n){var e=i(n).document;return p(e)?0:m(e)},c.wbg.__wbg_URL_db6637e306672144=function(){return P((function(n,e){var t=s(i(e).URL,_.__wbindgen_malloc,_.__wbindgen_realloc),r=u;l()[n/4+1]=r,l()[n/4+0]=t}),arguments)},c.wbg.__wbg_new_9c35e8e8b09fb4a3=function(){return P((function(){return m(new Headers)}),arguments)},c.wbg.__wbg_append_fb85316567f7a798=function(){return P((function(n,e,t,r,_){i(n).append(y(e,t),y(r,_))}),arguments)},c.wbg.__wbindgen_string_get=function(n,e){const t=i(e);var r="string"==typeof t?t:void 0,o=p(r)?0:s(r,_.__wbindgen_malloc,_.__wbindgen_realloc),c=u;l()[n/4+1]=c,l()[n/4+0]=o},c.wbg.__wbg_log_3445347661d4505e=function(n){console.log(i(n))},c.wbg.__wbg_fetch_b4e81012e07ff95a=function(n,e){return m(i(n).fetch(i(e)))},c.wbg.__wbg_instanceof_Response_e1b11afbefa5b563=function(n){return i(n)instanceof Response},c.wbg.__wbg_url_50e0bdb6051741be=function(n,e){var t=s(i(e).url,_.__wbindgen_malloc,_.__wbindgen_realloc),r=u;l()[n/4+1]=r,l()[n/4+0]=t},c.wbg.__wbg_status_6d8bb444ddc5a7b2=function(n){return i(n).status},c.wbg.__wbg_headers_5ffa990806e04cfc=function(n){return m(i(n).headers)},c.wbg.__wbg_arrayBuffer_b8937ed04beb0d36=function(){return P((function(n){return m(i(n).arrayBuffer())}),arguments)},c.wbg.__wbg_setonmessage_6476b98f78b884f1=function(n,e){i(n).onmessage=i(e)},c.wbg.__wbg_new_fdd3ee9cda3de16f=function(){return P((function(n,e){return m(new Worker(y(n,e)))}),arguments)},c.wbg.__wbg_postMessage_19f6e3c6d1114464=function(){return P((function(n,e){i(n).postMessage(i(e))}),arguments)},c.wbg.__wbg_newwithstrandinit_9b0fa00478c37287=function(){return P((function(n,e,t){return m(new Request(y(n,e),i(t)))}),arguments)},c.wbg.__wbg_data_9e55e7d79ab13ef1=function(n){return m(i(n).data)},c.wbg.__wbindgen_is_function=function(n){return"function"==typeof i(n)},c.wbg.__wbg_newnoargs_be86524d73f67598=function(n,e){return m(new Function(y(n,e)))},c.wbg.__wbindgen_is_object=function(n){const e=i(n);return"object"==typeof e&&null!==e},c.wbg.__wbg_next_c4151d46d5fa7097=function(n){return m(i(n).next)},c.wbg.__wbg_next_7720502039b96d00=function(){return P((function(n){return m(i(n).next())}),arguments)},c.wbg.__wbg_done_b06cf0578e89ff68=function(n){return i(n).done},c.wbg.__wbg_value_e74a542443d92451=function(n){return m(i(n).value)},c.wbg.__wbg_iterator_4fc4ce93e6b92958=function(){return m(Symbol.iterator)},c.wbg.__wbg_get_4d0f21c2f823742e=function(){return P((function(n,e){return m(Reflect.get(i(n),i(e)))}),arguments)},c.wbg.__wbg_call_888d259a5fefc347=function(){return P((function(n,e){return m(i(n).call(i(e)))}),arguments)},c.wbg.__wbg_new_0b83d3df67ecb33e=function(){return m(new Object)},c.wbg.__wbg_self_c6fbdfc2918d5e58=function(){return P((function(){return m(self.self)}),arguments)},c.wbg.__wbg_window_baec038b5ab35c54=function(){return P((function(){return m(window.window)}),arguments)},c.wbg.__wbg_globalThis_3f735a5746d41fbd=function(){return P((function(){return m(globalThis.globalThis)}),arguments)},c.wbg.__wbg_global_1bc0b39582740e95=function(){return P((function(){return m(t.g.global)}),arguments)},c.wbg.__wbg_encodeURIComponent_1fbf39f0996c5167=function(n,e){return m(encodeURIComponent(y(n,e)))},c.wbg.__wbg_of_caa367a9243230d0=function(n,e,t){return m(Array.of(i(n),i(e),i(t)))},c.wbg.__wbg_call_346669c262382ad7=function(){return P((function(n,e,t){return m(i(n).call(i(e),i(t)))}),arguments)},c.wbg.__wbg_new_b1d61b5687f5e73a=function(n,e){try{var t={a:n,b:e},r=new Promise(((n,e)=>{const r=t.a;t.a=0;try{return function(n,e,t,r){_.wasm_bindgen__convert__closures__invoke2_mut__h473af8d65ba07f2c(n,e,m(t),m(r))}(r,t.b,n,e)}finally{t.a=r}}));return m(r)}finally{t.a=t.b=0}},c.wbg.__wbg_resolve_d23068002f584f22=function(n){return m(Promise.resolve(i(n)))},c.wbg.__wbg_then_2fcac196782070cc=function(n,e){return m(i(n).then(i(e)))},c.wbg.__wbg_then_8c2d62e8ae5978f7=function(n,e,t){return m(i(n).then(i(e),i(t)))},c.wbg.__wbg_buffer_397eaa4d72ee94dd=function(n){return m(i(n).buffer)},c.wbg.__wbg_new_69ece9a32977b4d4=function(n){return m(new Int32Array(i(n)))},c.wbg.__wbg_newwithbyteoffsetandlength_4b9b8c4e3f5adbff=function(n,e,t){return m(new Uint8Array(i(n),e>>>0,t>>>0))},c.wbg.__wbg_new_a7ce447f15ff496f=function(n){return m(new Uint8Array(i(n)))},c.wbg.__wbg_set_969ad0a60e51d320=function(n,e,t){i(n).set(i(e),t>>>0)},c.wbg.__wbg_length_1eb8fc608a0d4cdb=function(n){return i(n).length},c.wbg.__wbg_has_1275b5eec3dc7a7a=function(){return P((function(n,e){return Reflect.has(i(n),i(e))}),arguments)},c.wbg.__wbg_set_82a4e8a85e31ac42=function(){return P((function(n,e,t){return Reflect.set(i(n),i(e),i(t))}),arguments)},c.wbg.__wbg_stringify_d4507a59932eed0c=function(){return P((function(n){return m(JSON.stringify(i(n)))}),arguments)},c.wbg.__wbindgen_debug_string=function(n,e){var t=s(h(i(e)),_.__wbindgen_malloc,_.__wbindgen_realloc),r=u;l()[n/4+1]=r,l()[n/4+0]=t},c.wbg.__wbindgen_throw=function(n,e){throw new Error(y(n,e))},c.wbg.__wbindgen_rethrow=function(n){throw a(n)},c.wbg.__wbindgen_module=function(){return m(n.__wbindgen_wasm_module)},c.wbg.__wbindgen_memory=function(){return m(_.memory)},c.wbg.__wbg_startWorkers_04f63eca19916b8f=function(n,e,t){return m((0,r.Q)(a(n),a(e),N.__wrap(t)))},c.wbg.__wbindgen_closure_wrapper332=function(n,e,t){return m(v(n,e,127,A))},c.wbg.__wbindgen_closure_wrapper333=function(n,e,t){return m(v(n,e,127,k))},("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e)),c.wbg.memory=o||new WebAssembly.Memory({initial:21,maximum:16384,shared:!0});const{instance:b,module:f}=await async function(n,e){if("function"==typeof Response&&n instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(n,e)}catch(e){if("application/wasm"==n.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}(await e,c);return _=b.exports,n.__wbindgen_wasm_module=f,_.__wbindgen_start(),_}},442:(n,e,t)=>{n.exports=t.p+"e1afef343f2655076476.wasm"}}]);